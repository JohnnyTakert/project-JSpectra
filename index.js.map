{"version":3,"file":"index.js","sources":["../src/js/footer-work-together.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  formEl: document.querySelector('.js-work-together-form'),\n  modalEl: document.querySelector('.js-modal-backdrop'),\n  closeModalBtn: document.querySelector('.close-modal'),\n};\n\nfunction postData(userEmail, userComment) {\n  return axios.post('https://portfolio-js.b.goit.study/api/requests', {\n    email: userEmail,\n    comment: userComment,\n  });\n}\n\nasync function onFormSubmit(e) {\n  e.preventDefault();\n\n  const {\n    email: { value: emailVal },\n    comment: { value: commentVal },\n  } = e.currentTarget.elements;\n\n  try {\n    const {\n      data: { title, message },\n    } = await postData(emailVal, commentVal);\n\n    document.querySelector('.js-modal-title').textContent = title;\n    document.querySelector('.js-modal-text').textContent = message;\n\n    openModal();\n\n    refs.formEl.reset();\n  } catch (err) {\n    iziToast.info({\n      title: err.name,\n      message: err.message,\n      backgroundColor: '#ed3b44',\n      theme: 'dark',\n    });\n  }\n}\n\nfunction openModal() {\n  refs.modalEl.classList.add('is-open');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeModal() {\n  refs.modalEl.classList.remove('is-open');\n  document.body.style.overflow = '';\n}\n\nrefs.formEl.addEventListener('submit', onFormSubmit);\nrefs.closeModalBtn.addEventListener('click', closeModal);\nrefs.modalEl.addEventListener('click', closeModal);\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape') closeModal();\n});\n"],"names":["refs","postData","userEmail","userComment","axios","onFormSubmit","e","emailVal","commentVal","title","message","openModal","err","iziToast","closeModal"],"mappings":"6vBAIA,MAAMA,EAAO,CACX,OAAQ,SAAS,cAAc,wBAAwB,EACvD,QAAS,SAAS,cAAc,oBAAoB,EACpD,cAAe,SAAS,cAAc,cAAc,CACtD,EAEA,SAASC,EAASC,EAAWC,EAAa,CACxC,OAAOC,EAAM,KAAK,iDAAkD,CAClE,MAAOF,EACP,QAASC,CACb,CAAG,CACH,CAEA,eAAeE,EAAaC,EAAG,CAC7BA,EAAE,eAAc,EAEhB,KAAM,CACJ,MAAO,CAAE,MAAOC,CAAU,EAC1B,QAAS,CAAE,MAAOC,CAAY,CAClC,EAAMF,EAAE,cAAc,SAEpB,GAAI,CACF,KAAM,CACJ,KAAM,CAAE,MAAAG,EAAO,QAAAC,CAAS,CACzB,EAAG,MAAMT,EAASM,EAAUC,CAAU,EAEvC,SAAS,cAAc,iBAAiB,EAAE,YAAcC,EACxD,SAAS,cAAc,gBAAgB,EAAE,YAAcC,EAEvDC,IAEAX,EAAK,OAAO,OACb,OAAQY,EAAK,CACZC,EAAS,KAAK,CACZ,MAAOD,EAAI,KACX,QAASA,EAAI,QACb,gBAAiB,UACjB,MAAO,MACb,CAAK,CACF,CACH,CAEA,SAASD,GAAY,CACnBX,EAAK,QAAQ,UAAU,IAAI,SAAS,EACpC,SAAS,KAAK,MAAM,SAAW,QACjC,CAEA,SAASc,GAAa,CACpBd,EAAK,QAAQ,UAAU,OAAO,SAAS,EACvC,SAAS,KAAK,MAAM,SAAW,EACjC,CAEAA,EAAK,OAAO,iBAAiB,SAAUK,CAAY,EACnDL,EAAK,cAAc,iBAAiB,QAASc,CAAU,EACvDd,EAAK,QAAQ,iBAAiB,QAASc,CAAU,EACjD,SAAS,iBAAiB,UAAWR,GAAK,CACpCA,EAAE,MAAQ,UAAUQ,EAAU,CACpC,CAAC"}